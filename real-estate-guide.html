<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Pavlo Rospopa Website</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/format.css">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    <style>
        body { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f7f9; }
        input, textarea { -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text; user-select: text; }

        #real-estate-guide-container {
            margin: 40px auto; padding: 30px; border: 1px solid #e0e0e0; border-radius: 12px;
            background-color: #ffffff; box-shadow: 0 4px 15px rgba(0,0,0,0.05); position: relative; z-index: 101;
            max-width: 800px;
        }
        .tree-option-btn {
            padding: 16px 20px; background-color: #f8f9fa; color: #333; border: 2px solid #eef0f2;
            border-radius: 8px; cursor: pointer; font-size: 1.05rem; text-align: left;
            transition: all 0.2s; font-weight: 500; width: 100%; margin-bottom: 10px; display: block;
        }
        .tree-option-btn:hover { border-color: #4285F4; color: #4285F4; transform: translateY(-2px); }
        .result-card { background: #f4f7ff; border-left: 6px solid #4285F4; padding: 25px; border-radius: 8px; color: #334155; line-height: 1.7; margin-bottom: 20px; }

        #contact-form-container { margin: 40px 0; padding: 20px; border: 1px solid #e0e0e0; border-radius: 8px; background-color: #f9f9f9; }
        #contact-form { display: flex; flex-direction: column; gap: 15px; }
        #contact-form input, #contact-form textarea { padding: 12px; border: 1px solid #ccc; border-radius: 4px; width: 100%; box-sizing: border-box; }
        #contact-form button { padding: 12px 24px; background-color: #333; color: white; border: none; border-radius: 4px; cursor: pointer; align-self: flex-start; font-weight: bold; }
        #contact-form button:hover { background-color: #555; }
    </style>
</head>
     
<body>

<header class="site-header">
    <div class="wrap" style="text-align: center; padding: 20px 0;">
        <a class="site-title" style="text-decoration: none; font-size: 2rem; color: #333; font-weight: 800;" href="https://rospopa.com">Pavlo Rospopa Website</a>
    </div>
</header>

<main>
    <div class="page-content">
        <div class="wrap">
            <div id="real-estate-guide-container">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; min-height: 30px;">
                    <div style="width: 80px;">
                        <span id="back-btn" style="cursor: pointer; font-size: 0.9rem; color: #4285F4; font-weight: 600; display: none;">← Back</span>
                    </div>
                    <div style="flex-grow: 1; height: 6px; background: #eee; margin: 0 10px; border-radius: 10px; overflow: hidden;">
                        <div id="progress-bar-fill" style="width: 0%; height: 100%; background: linear-gradient(90deg, #4285F4, #a855f7); border-radius: 10px; transition: width 0.4s ease;"></div>
                    </div>
                    <div style="width: 80px; text-align: right;">
                        <span id="step-counter" style="font-size: 0.8rem; color: #999; font-weight: bold;">Step 1</span>
                    </div>
                </div>

                <div id="tree-content">
                    <h2 id="question-text" style="margin-bottom: 25px; font-size: 1.5rem; color: #222; font-weight: 800;">Real Estate Strategy Guide</h2>
                    <div id="options-container"></div>
                </div>

                <div id="contact-form-container" style="display: none;">
                    <h3 style="margin-top:0;">Request This Strategy</h3>
                    <form id="contact-form">
                        <input type="text" name="name" placeholder="Your Name" required />
                        <input type="email" name="email" placeholder="Your Email" required />
                        <textarea id="message-field" name="message" rows="5" required></textarea>
                        <div class="g-recaptcha" data-sitekey="6Let_E8sAAAAAP948s5QuqjQ-HKYRuoXxLzILZ9p"></div>
                        <button type="submit" id="submit-btn">Send Request</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const tree = {
        // --- START NODE ---
        start: {
            text: "What is your primary Real Estate Goal?",
            options: [
                { label: "Residential: Buying", next: "buy_node_1" },
                { label: "Residential: Selling", next: "sell_node_1" },
                { label: "Wealth: Investment", next: "invest_node_1" },
                { label: "Commercial / Business", next: "comm_node_1" }
            ]
        },

        // ============================
        // BRANCH 1: BUYING
        // ============================
        buy_node_1: {
            text: "Have you owned a home in the last 3 years?",
            options: [
                { label: "No (First-Time Buyer)", next: "buy_fthb_triage" },
                { label: "Yes (Repeat Buyer)", next: "buy_repeat_triage" }
            ]
        },
        buy_fthb_triage: {
            text: "What is your biggest hurdle right now?",
            options: [
                { label: "Down Payment / Cash", next: "res_grant" },
                { label: "Credit Score", next: "buy_credit_check" },
                { label: "Monthly Payment / Income", next: "res_househack" }
            ]
        },
        buy_credit_check: {
            text: "Do you know your approximate credit score?",
            options: [
                { label: "Above 620", next: "res_fha_standard" },
                { label: "Below 620", next: "res_credit" }
            ]
        },
        buy_repeat_triage: {
            text: "Do you need to sell your current home to buy the new one?",
            options: [
                { label: "Yes, I need the equity", next: "buy_contingency" },
                { label: "No, I can keep both", next: "buy_2nd_home" }
            ]
        },
        buy_contingency: {
            text: "Is your current home currently on the market?",
            options: [
                { label: "Yes, it's listed", next: "strat_concurrent" },
                { label: "Not yet", next: "buy_equity_check" }
            ]
        },
        buy_equity_check: {
            text: "Do you have significant equity (>30%) in the current home?",
            options: [
                { label: "Yes, lots of equity", next: "strat_bridge" },
                { label: "No / Not sure", next: "strat_sell_first" }
            ]
        },
        buy_2nd_home: {
            text: "What is the primary use of this new property?",
            options: [
                { label: "Vacation / Short Term Rental", next: "strat_vacation" },
                { label: "Long Term Investment", next: "strat_buy_hold" }
            ]
        },

        // ============================
        // BRANCH 2: SELLING
        // ============================
        sell_node_1: {
            text: "What is the financial status of the property?",
            options: [
                { label: "Positive Equity (>20%)", next: "sell_retail_condition" },
                { label: "Low / Negative Equity", next: "sell_distress" },
                { label: "Probate / Inherited", next: "sell_probate" }
            ]
        },
        sell_retail_condition: {
            text: "What is the condition of the property?",
            options: [
                { label: "Good / Needs Minor Updates", next: "sell_retail_priority" },
                { label: "Needs Major Repairs", next: "sell_retail_fix" }
            ]
        },
        sell_retail_fix: {
            text: "Do you have the cash/time to fix it before selling?",
            options: [
                { label: "Yes, fix for top dollar", next: "strat_concierge" },
                { label: "No, sell 'As-Is'", next: "strat_instant" }
            ]
        },
        sell_retail_priority: {
            text: "What is your main priority?",
            options: [
                { label: "Maximum Profit", next: "strat_concierge" },
                { label: "Maximum Speed", next: "strat_instant" }
            ]
        },
        sell_distress: {
            text: "Are you behind on mortgage payments?",
            options: [
                { label: "Yes", next: "sell_hardship" },
                { label: "No, just low equity", next: "strat_hold_rent" }
            ]
        },
        sell_hardship: {
            text: "Do you have other significant assets (stocks, 2nd home)?",
            options: [
                { label: "Yes", next: "strat_short_sale" },
                { label: "No, this is it", next: "strat_deed_lieu" }
            ]
        },
        sell_probate: {
            text: "Do you have 'Letters of Office' from the court?",
            options: [
                { label: "Yes, fully authorized", next: "strat_probate_easy" },
                { label: "No, still in process", next: "strat_probate_court" },
                { label: "I don't know", next: "strat_probate_bond" }
            ]
        },

        // ============================
        // BRANCH 3: INVESTMENT
        // ============================
        invest_node_1: {
            text: "What is your preferred involvement level?",
            options: [
                { label: "Active (Hands-on)", next: "inv_active_risk" },
                { label: "Passive (Hands-off)", next: "inv_passive_check" },
                { label: "Analyze Existing Asset", next: "inv_analyze" }
            ]
        },
        inv_active_risk: {
            text: "What is your risk tolerance?",
            options: [
                { label: "High (Aggressive Growth)", next: "strat_fix_flip" },
                { label: "Moderate (Value Add)", next: "strat_brrrr" },
                { label: "Low (Steady Cash Flow)", next: "strat_buy_hold" }
            ]
        },
        inv_passive_check: {
            text: "Are you an Accredited Investor ($200k+ income / $1M+ net worth)?",
            options: [
                { label: "Yes", next: "strat_syndication" },
                { label: "No", next: "strat_reit" }
            ]
        },
        inv_analyze: {
            text: "Does the asset's Return on Equity (ROE) exceed 7%?",
            options: [
                { label: "Yes, it performs well", next: "strat_hold_refi" },
                { label: "No, it's lazy equity", next: "strat_1031" }
            ]
        },

        // ============================
        // BRANCH 4: COMMERCIAL
        // ============================
        comm_node_1: {
            text: "What is the property type?",
            options: [
                { label: "Retail / Office", next: "comm_retail_node" },
                { label: "Industrial / Flex", next: "comm_industrial_node" }
            ]
        },
        comm_retail_node: {
            text: "Are you looking to Lease or Own?",
            options: [
                { label: "Buy (Owner-User)", next: "strat_sba_504" },
                { label: "Lease", next: "comm_lease_type" }
            ]
        },
        comm_industrial_node: {
            text: "Are you looking to Lease or Own?",
            options: [
                { label: "Buy (Owner-User)", next: "strat_sba_504" },
                { label: "Lease", next: "strat_industrial" }
            ]
        },
        comm_lease_type: {
            text: "What lease structure is proposed?",
            options: [
                { label: "Triple Net (NNN)", next: "strat_lease_audit" },
                { label: "Modified Gross", next: "strat_lease_base_year" }
            ]
        },

        // ============================
        // OUTCOME STRATEGIES (Endpoints)
        // ============================
        
        // Buyers
        res_grant: { text: "Strategy: IHDA Grant Pairing. We will leverage Illinois Housing Development Authority programs to secure up to $10,000 in down payment assistance. Focus on lenders who can layer these grants without high rate bumps.", options: [] },
        res_fha_standard: { text: "Strategy: Standard FHA 3.5%. With a score over 620, you qualify for the 3.5% down payment with lower MIP costs. We can start shopping immediately.", options: [] },
        res_credit: { text: "Strategy: Credit Repair Roadmap. You need a 6-month buffer. We will pause the search to focus on debt-to-income ratios. Targeting 620+ saves you thousands in MIP costs.", options: [] },
        res_househack: { text: "Strategy: House Hacking. Buy a 2-4 unit property using an FHA 3.5% down loan. Live in one unit, rent the others. 75% of the projected rental income can be used to qualify for the loan.", options: [] },
        strat_concurrent: { text: "Strategy: Concurrent Closing. Your sale is safe. We will line up the closings for the same day (Sale in AM, Buy in PM) so proceeds transfer directly at the title company.", options: [] },
        strat_bridge: { text: "Strategy: Bridge Loan / HELOC. Since you have high equity, we will tap into a HELOC or Bridge Loan on your current home to fund the down payment for the new one immediately, allowing you to buy before you sell.", options: [] },
        strat_sell_first: { text: "Strategy: Listing Preparation. To buy your next home, we must list your current one first. We will use a 'Home of Choice' contingency clause to protect you from being homeless if you can't find a new buy.", options: [] },
        strat_vacation: { text: "Strategy: Vacation Rental Analysis. We must verify local short-term rental laws (AirBnB rules). Income potential is high, but we need to calculate the specific tax implications for 2nd home usage.", options: [] },

        // Sellers
        strat_concierge: { text: "Strategy: Concierge Listing. We prioritize Price. Implementation of staging, pre-listing inspection (to prevent repair negotiations), and high-end drone photography. Timeline: 14-30 days to market.", options: [] },
        strat_instant: { text: "Strategy: Aggressive Pricing / iBuyer. We prioritize Speed. We will price slightly below comps to induce a bidding war or solicit cash offers from institutional investors. Timeline: 10-14 days.", options: [] },
        strat_hold_rent: { text: "Strategy: Rent & Hold. You have low equity but aren't distressed. Selling now means bringing cash to close. It is financially better to rent the unit until equity recovers.", options: [] },
        strat_short_sale: { text: "Strategy: Negotiated Short Sale. Since you have assets, the bank may pursue a deficiency judgment. We must negotiate a 'Waiver of Deficiency' as part of the sale. This protects your other assets.", options: [] },
        strat_deed_lieu: { text: "Strategy: Deed in Lieu. If you are insolvent with only one lien, we offer the deed to the bank. This 'Cash for Keys' approach avoids the stigma of foreclosure and resolves the debt faster.", options: [] },
        strat_probate_easy: { text: "Strategy: Standard Estate Sale. Independent Administration allows you to sell without court approval. We proceed as a standard listing, ensuring the title company receives the death certificate and letters of office.", options: [] },
        strat_probate_court: { text: "Strategy: Court-Approved Sale. We must include a 'Court Approval Contingency' in any contract. Expect a 45-60 day closing window to allow for the judge's sign-off.", options: [] },
        strat_probate_bond: { text: "Strategy: Bond in Lieu of Probate. To speed this up, we can work with a title company to issue a 'Bond in Lieu', allowing us to sell before the lengthy probate court process is finished.", options: [] },

        // Investors
        strat_fix_flip: { text: "Strategy: Fix & Flip (70% Rule). We only buy if (Purchase + Repairs) < 70% of After Repair Value. We will focus on distressed Class C properties in Class B neighborhoods.", options: [] },
        strat_brrrr: { text: "Strategy: BRRRR Method. Buy, Rehab, Rent, Refinance, Repeat. The key is the Refinance—we must ensure the property DSCR (Debt Service Coverage Ratio) will support a cash-out refi in 6 months.", options: [] },
        strat_buy_hold: { text: "Strategy: Cash Flow Focus. We target multi-family units where the Cap Rate exceeds 6-8%. Focus on stable tenant history and low vacancy zones rather than high appreciation.", options: [] },
        strat_syndication: { text: "Strategy: Syndication LP. You provide capital to a General Partner for a large commercial deal. Totally passive. We look for 'Value-Add' offerings with a preferred return of 7-8%.", options: [] },
        strat_reit: { text: "Strategy: Public REITs. Since you are not accredited, we focus on publicly traded Real Estate Investment Trusts. High liquidity, moderate dividends, zero management.", options: [] },
        strat_hold_refi: { text: "Strategy: Hold & Refinance. Your equity is working hard. We should look at a Cash-Out Refinance to pull tax-free capital out and buy another asset, increasing your total ROE.", options: [] },
        strat_1031: { text: "Strategy: 1031 Exchange. Your equity is 'lazy' (<7% return). We should sell this asset and defer all capital gains taxes by rolling the proceeds into a higher-performing property within 180 days.", options: [] },

        // Commercial
        strat_sba_504: { text: "Strategy: SBA 504 Loan. As an owner-user, you can buy a building with only 10% down. This locks in your occupancy costs and builds wealth through principal paydown instead of rent.", options: [] },
        strat_lease_audit: { text: "Strategy: NNN Lease Audit. In a Triple Net lease, you pay taxes/maintenance. We must audit the landlord's 'CAM' (Common Area Maintenance) charges to ensure you aren't overpaying for capital improvements.", options: [] },
        strat_lease_base_year: { text: "Strategy: Base Year Stop. We negotiate a 'Gross' lease where you only pay for tax/expense increases *above* a base year. This protects you from sudden spikes in building costs.", options: [] },
        strat_industrial: { text: "Strategy: Logistics/Flex Focus. Demand is high for 2000sqft bays with 14ft doors. We focus on 'Last Mile' locations near highways. Check zoning for heavy vs light industrial usage.", options: [] }
    };

    let currentNode = 'start';
    let history = []; 
    let pathLabels = []; 

    const elements = {
        question: document.getElementById('question-text'),
        options: document.getElementById('options-container'),
        backBtn: document.getElementById('back-btn'),
        progress: document.getElementById('progress-bar-fill'),
        step: document.getElementById('step-counter'),
        formContainer: document.getElementById('contact-form-container'),
        message: document.getElementById('message-field')
    };

    function renderNode() {
        const node = tree[currentNode];
        if(!node) return;

        elements.question.innerText = node.text;
        elements.options.innerHTML = '';
        
        const isResult = node.options.length === 0;
        
        elements.step.innerText = isResult ? 'Complete' : `Step ${history.length + 1}`;
        elements.progress.style.width = isResult ? '100%' : Math.min((history.length + 1) * 15, 95) + '%';
        elements.backBtn.style.display = (history.length > 0) ? 'inline' : 'none';

        if (isResult) {
            elements.question.classList.add('result-card');
            elements.formContainer.style.display = 'block';
            
            let complianceNote = "\n\n*Local Compliance Note (Villa Park/IL):* \n- Transfer Stamps: $0 (Villa Park), but Inspection Required ($50).\n- Mandatory Disclosures: IL Radon, Lead-Based Paint (Pre-1978).";
            elements.message.value = "User Path: " + pathLabels.join(" > ") + "\n\nProposed Strategy: " + node.text + complianceNote;
            
            const restartBtn = document.createElement('button');
            restartBtn.innerText = "Start Over / Try Another Goal";
            restartBtn.className = "tree-option-btn";
            restartBtn.style.textAlign = "center";
            restartBtn.style.marginTop = "20px";
            restartBtn.onclick = () => { 
                history = []; 
                pathLabels = []; 
                currentNode = 'start'; 
                renderNode(); 
            };
            elements.options.appendChild(restartBtn);
        } else {
            elements.question.classList.remove('result-card');
            elements.formContainer.style.display = 'none';
            node.options.forEach(opt => {
                const btn = document.createElement('button');
                btn.innerText = opt.label;
                btn.className = "tree-option-btn";
                btn.onclick = () => {
                    history.push(currentNode);
                    pathLabels.push(opt.label);
                    currentNode = opt.next;
                    renderNode();
                };
                elements.options.appendChild(btn);
            });
        }
    }

    elements.backBtn.onclick = () => {
        if (history.length > 0) {
            currentNode = history.pop();
            pathLabels.pop();
            renderNode();
        }
    };

    renderNode();
});
</script>
</body>
</html>
