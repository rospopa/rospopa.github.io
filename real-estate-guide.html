<header class="site-header" style="border-bottom: 1px solid #e0e0e0; padding: 15px 0;">
    <div class="wrap" style="display: flex; justify-content: space-between; align-items: center; max-width: 800px; margin: 0 auto; padding: 0 20px;">
        <a class="site-title" style="text-decoration: none; color: #333; font-size: 1.5rem; font-family: sans-serif;" href="https://rospopa.com">Pavlo Rospopa Website</a>
        <nav class="site-nav">
            <div class="trigger">
                <a style="text-decoration: none; color: #0000ee; font-family: sans-serif;" href="mailto:pavlo@rospopa.com">pavlo@rospopa.com</a>
            </div>
        </nav>
    </div>
</header>

<main class="wrap" style="max-width: 800px; margin: 0 auto; padding: 0 20px;">
    <div id="real-estate-guide-container" style="margin: 40px auto; padding: 30px; border: 1px solid #e0e0e0; border-radius: 12px; background-color: #ffffff; box-shadow: 0 4px 15px rgba(0,0,0,0.05); font-family: sans-serif;">
        ```

---

### 2. The Elaborate Logic (`js/real-estate-guide.js`)
Here is the massive, all-possibilities decision tree. This covers everything from **Foreclosures** to **Tax Strategy** and **Commercial Leasing**.

```javascript
document.addEventListener('DOMContentLoaded', () => {
    const tree = {
        start: {
            text: "How can I help you with your real estate journey today?",
            options: [
                { label: "üè† I am looking to Buy", next: "buy_path" },
                { label: "üí∞ I am looking to Sell", next: "sell_path" },
                { label: "üìà I am looking to Invest", next: "invest_path" },
                { label: "üè¢ Commercial / Industrial", next: "res_commercial" }
            ]
        },

        // --- BUYING BRANCH ---
        buy_path: {
            text: "What type of purchase is this?",
            options: [
                { label: "Primary Residence", next: "buy_primary" },
                { label: "Second Home / Vacation", next: "res_vacation" },
                { label: "Land / New Construction", next: "res_land" }
            ]
        },
        buy_primary: {
            text: "Are you a first-time buyer or relocating?",
            options: [
                { label: "First-Time Buyer", next: "buy_finance" },
                { label: "Relocating / Upsizing", next: "buy_contingency" }
            ]
        },
        buy_finance: {
            text: "How are you planning to fund the purchase?",
            options: [
                { label: "Standard Mortgage", next: "res_lender" },
                { label: "VA / FHA Specialized Loan", next: "res_special_loan" },
                { label: "Cash Offer", next: "res_cash_buyer" }
            ]
        },

        // --- SELLING BRANCH ---
        sell_path: {
            text: "What is the primary reason for the sale?",
            options: [
                { label: "Standard Market Sale", next: "sell_condition" },
                { label: "1031 Tax Exchange", next: "res_1031" },
                { label: "Distressed / Short Sale", next: "res_distressed" },
                { label: "Probate / Estate Sale", next: "res_probate" }
            ]
        },
        sell_condition: {
            text: "What is the current condition of the property?",
            options: [
                { label: "Turnkey / Market Ready", next: "res_list_ready" },
                { label: "Needs Significant Rehab", next: "res_reno_needed" }
            ]
        },

        // --- INVESTING BRANCH ---
        invest_path: {
            text: "What is your investment philosophy?",
            options: [
                { label: "Passive Income (Rentals)", next: "invest_rentals" },
                { label: "Active Profit (Flipping)", next: "res_flip" },
                { label: "Wholesaling / Off-Market", next: "res_wholesale" }
            ]
        },
        invest_rentals: {
            text: "What property type interests you most?",
            options: [
                { label: "Single Family Residential", next: "res_sfr" },
                { label: "Multi-Family (2-4 Units)", next: "res_multifamily" },
                { label: "Short Term (Airbnb)", next: "res_airbnb" }
            ]
        },

        // --- RESULTS ---
        res_lender: { text: "<h4>Your Action Plan:</h4>You need a pre-approval letter from a reputable lender before touring. I can provide a list of local partners who specialize in your target area.", options: [] },
        res_cash_buyer: { text: "<h4>Your Action Plan:</h4>Prepare your Proof of Funds (POF). We will use your liquid position to negotiate lower inspection times and better prices.", options: [] },
        res_1031: { text: "<h4>Your Action Plan:</h4>Identify your replacement property within 45 days. You MUST use a Qualified Intermediary to avoid capital gains taxes.", options: [] },
        res_airbnb: { text: "<h4>Your Action Plan:</h4>Zoning is your #1 hurdle. We need to analyze local short-term rental ordinances and AirDNA occupancy data before bidding.", options: [] },
        res_probate: { text: "<h4>Your Action Plan:</h4>We need to verify if you have 'Full Authority' under the IAEA or if court confirmation is required for the sale.", options: [] },
        res_commercial: { text: "<h4>Your Action Plan:</h4>Commercial deals are driven by the CAP rate and NOI. Let's review the current rent roll and lease expirations.", options: [] },
        res_distressed: { text: "<h4>Your Action Plan:</h4>If you are underwater, we need to contact your servicer for a Short Sale package immediately to protect your credit.", options: [] }
    };

    let currentNode = 'start';
    let history = [];

    const questionEl = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const backBtn = document.getElementById('back-btn');
    const progressFill = document.getElementById('progress-bar-fill');
    const stepCounter = document.getElementById('step-counter');

    function renderNode() {
        const node = tree[currentNode];
        questionEl.innerHTML = node.text;
        optionsContainer.innerHTML = '';
        
        backBtn.style.display = history.length > 0 ? 'block' : 'none';
        
        // Progress bar logic
        const progress = Math.min((history.length + 1) * 25, 100);
        progressFill.style.width = (node.options.length === 0) ? '100%' : `${progress}%`;
        stepCounter.innerText = (node.options.length === 0) ? 'FINISH' : `Step ${history.length + 1}`;

        if (node.options.length === 0) {
            questionEl.className = 'result-card';
            const restartBtn = document.createElement('button');
            restartBtn.innerText = "Start New Search";
            restartBtn.className = "tree-option-btn";
            restartBtn.style.marginTop = "25px";
            restartBtn.style.backgroundColor = "#333";
            restartBtn.style.color = "white";
            restartBtn.style.textAlign = "center";
            restartBtn.onclick = () => {
                history = [];
                currentNode = 'start';
                questionEl.className = '';
                renderNode();
            };
            optionsContainer.appendChild(restartBtn);
        } else {
            node.options.forEach(opt => {
                const btn = document.createElement('button');
                btn.innerText = opt.label;
                btn.className = "tree-option-btn";
                btn.onclick = () => {
                    history.push(currentNode);
                    currentNode = opt.next;
                    renderNode();
                };
                optionsContainer.appendChild(btn);
            });
        }
    }

    backBtn.onclick = () => {
        if (history.length > 0) {
            currentNode = history.pop();
            questionEl.className = '';
            renderNode();
        }
    };

    renderNode();
});
