<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/css/favicons/unnamed-180x180.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/css/favicons/unnamed-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/css/favicons/unnamed-32x32.png">
    <link rel="icon" type="image/png" sizes="180x180" href="/css/favicons/unnamed-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/css/favicons/unnamed-192x192.png">
    <link rel="icon" type="image/png" sizes="231x231" href="/css/favicons/unnamed-231x231.png">
    <title>Debt Replacement Calculator | Pavlo Rospopa</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css">
    <style>
        .site-header { background-color: #f8f9fa; border-bottom: 1px solid #dee2e6; padding: 1rem 0; }
        .wrap { max-width: 1400px; margin: 0 auto; padding: 0 15px; }
        .site-title { font-size: 1.5rem; font-weight: 600; color: #333; text-decoration: none; }
        .page-content { padding: 2rem 0; }
        .calcheaderbtn { margin-bottom: 20px; display: flex; gap: 10px; }
        .subsection-heading { text-align: center; margin-bottom: 15px; font-weight: 700; text-transform: uppercase; }
        .input-row-dashed { border: 1px dashed #1DA1F2; padding: 20px; margin-bottom: 25px; border-radius: 4px; background-color: #fdfdfd; }
        .subsection.summary { background: #fff3cd; padding: 20px; border-radius: 4px; border: 1px solid #ffeeba; }
        .table-result-input { border: none !important; background: transparent !important; width: 100%; outline: none; text-align: right; font-weight: bold; }
        .prop-label { background: #1f4e79; color: white; padding: 3px 10px; border-radius: 4px; font-size: 0.85rem; font-weight: 600; margin-bottom: 15px; display: inline-block; }
        .boot-result-box { text-align: center; border: 2px solid #1f4e79; background: #f8f9fa; padding: 30px; border-radius: 8px; margin-top: 30px; }
        .boot-amount { color: #f0ad4e; font-size: 2.5rem; font-weight: 800; }

		@media (max-width: 768px) {
            .site-nav .trigger { display: none; }
            .site-nav .trigger2 { display: inline-block; }
        }
    </style>
</head>
<body>
<header class="site-header">
    <div class="wrap">
        <a class="site-title" style="text-decoration: none;" href="https://rospopa.com">Pavlo Rospopa Website</a>
        <nav class="site-nav">
            <div class="trigger">
                <a style="text-decoration: none;" href="mailto:pavlo@rospopa.com?subject=APOD-Calculator">pavlo@rospopa.com</a>
            </div>
            <div class="trigger2">
                <a style="text-decoration: none;" href="mailto:pavlo@rospopa.com?subject=APOD-Calculator">@</a>
            </div>
        </nav>
    </div>
</header>
<main class="page-content">
    <div class="wrap">
        <h2 class="text-center mb-4" style="font-weight: 700;">DEBT REPLACEMENT CALCULATOR</h2>
        <div class="calcheaderbtn">
            <button class="btn btn-secondary btn-sm" onclick="location.reload()"><span>RESET</span></button>
            <button class="btn btn-primary btn-sm"><span>PDF</span></button>
            <button class="btn btn-success btn-sm"><span>E-MAIL</span></button>
        </div>
        <div class="row">
            <div class="col-lg-5">
                <h4 class="subsection-heading">Relinquished Property</h4>
                <div class="input-row-dashed">
                    <div class="mb-3"><label class="form-label">Net Sale Price</label><div class="input-group"><span class="input-group-text">$</span><input type="text" id="rel_sale" class="form-control money-input" placeholder="500,000"></div></div>
                    <div class="mb-3"><label class="form-label">Loan Payoff</label><div class="input-group"><span class="input-group-text">$</span><input type="text" id="rel_loan" class="form-control money-input" placeholder="200,000"></div></div>
                    <div class="mb-3"><label class="form-label text-muted small">Funds to QI</label><div class="input-group input-group-sm"><span class="input-group-text">$</span><input type="text" id="rel_qi" class="form-control bg-light" readonly placeholder="300,000"></div></div>
                    <div class="mb-3"><label class="form-label text-muted small">Property LTV</label><div class="input-group input-group-sm"><input type="text" id="rel_ltv" class="form-control bg-light" readonly placeholder="40"><span class="input-group-text">%</span></div></div>
                    <label class="form-label fw-bold">Reinvestment Target</label><div class="input-group"><span class="input-group-text">$</span><input type="text" id="req_total" class="form-control bg-light" readonly placeholder="500,000"></div>
                </div>
            </div>
            <div class="col-lg-7">
                <h4 class="subsection-heading">Replacement Property(S)</h4>
                <div class="input-row-dashed">
                    <!-- Prop 1 -->
                    <div class="prop-label">Property #1</div>
                    <div class="row g-2 mb-3">
                        <div class="col-6"><input type="text" id="p1_funds" class="form-control form-control-sm money-input" placeholder="Cash $"></div>
                        <div class="col-6"><input type="number" id="p1_ltv" class="form-control form-control-sm" placeholder="LTV %"></div>
                        <div class="col-6"><input type="text" id="p1_loan" class="form-control form-control-sm bg-light" readonly placeholder="Loan Assumed $"></div>
                        <div class="col-6"><input type="text" id="p1_total" class="form-control form-control-sm bg-light" readonly placeholder="Total Toward Requirement $"></div>
                    </div>
                    <!-- Prop 2 -->
                    <div class="prop-label">Property #2</div>
                    <div class="row g-2 mb-3">
                        <div class="col-6"><input type="text" id="p2_funds" class="form-control form-control-sm money-input" placeholder="Cash $"></div>
                        <div class="col-6"><input type="number" id="p2_ltv" class="form-control form-control-sm" placeholder="LTV %"></div>
                        <div class="col-6"><input type="text" id="p2_loan" class="form-control form-control-sm bg-light" readonly placeholder="Loan Assumed $"></div>
                        <div class="col-6"><input type="text" id="p2_total" class="form-control form-control-sm bg-light" readonly placeholder="Total Toward Requirement $"></div>
                    </div>
                    <!-- Prop 3 -->
                    <div class="prop-label">Property #3</div>
                    <div class="row g-2">
                        <div class="col-6"><input type="text" id="p3_funds" class="form-control form-control-sm money-input" placeholder="Cash $"></div>
                        <div class="col-6"><input type="number" id="p3_ltv" class="form-control form-control-sm" placeholder="LTV %"></div>
                        <div class="col-6"><input type="text" id="p3_loan" class="form-control form-control-sm bg-light" readonly placeholder="Loan Assumed $"></div>
                        <div class="col-6"><input type="text" id="p3_total" class="form-control form-control-sm bg-light" readonly placeholder="Total Toward Requirement $"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="subsection summary mt-4">
            <table class="table table-bordered bg-white mb-0">
                <tbody>
                    <tr><td class="fw-bold">Total Equity Replacement</td><td class="text-end"><input id="tot_equity" class="table-result-input" readonly placeholder="271,000"></td></tr>
                    <tr><td class="fw-bold">Total Debt Replacement</td><td class="text-end"><input id="tot_debt" class="table-result-input" readonly placeholder="363,861"></td></tr>
                    <tr class="table-primary"><td class="fw-bold">Total Exchange Value Acquired</td><td class="text-end"><input id="tot_value" class="table-result-input" readonly placeholder="634,861"></td></tr>
                </tbody>
            </table>
        </div>
        <div class="boot-result-box mt-4">
            <h5 class="fw-bold text-uppercase" style="color:#1f4e79">Potential Amount Subject to Tax</h5>
            <div class="boot-amount">$<span id="boot_val">0</span></div>
        </div>
    </div>
	
 <section class="mt-4">
  <h5 class="font-monospace lh-1 text-center" style="font-size: 0.8rem; color: #666;">Disclaimer.<br>Use this calculator for REVIEW and TESTING purposes only.<br>(It's not a substitute for your calculations.)</h5>
 </section>
</main>

<footer class="site-footer">
    <div class="wrap">
        <div class="home">
            <p>Go to <a href="https://www.linkedin.com/in/prospopa/">LinkedIn</a>.</p>
            <p>Go to <a href="https://github.com/rospopa">GitHub</a>.</p>
            <p>Return to <a href="#top">Top of This Page</a>.</p>
            <section class="d-flex flex-row justify-content-center" style="width:100%;">
                <div class="container" style="margin:0; padding:20px 0; width:100%;">
                    <div class="text-center">
                        <p class="mb-0">Copyright Â© <span id="currentYear"></span> All Rights Reserved.</p>
                    </div>
                </div>
            </section>
        </div>
    </div>
</footer>

<script>
    function format(n) { return n.toLocaleString('en-US'); }
    function clean(s) { return parseFloat(s.toString().replace(/,/g, '')) || 0; }
    document.querySelectorAll('.money-input').forEach(el => { el.addEventListener('input', function() { let val = this.value.replace(/\D/g, ""); if (val) this.value = parseInt(val).toLocaleString('en-US'); calculate(); }); });
    document.querySelectorAll('input[type="number"]').forEach(el => el.addEventListener('input', calculate));
    function calculate() {
        const rs = clean(document.getElementById('rel_sale').value), rl = clean(document.getElementById('rel_loan').value), rq = rs - rl;
        document.getElementById('rel_qi').value = format(Math.max(0, rq)); document.getElementById('rel_ltv').value = rs > 0 ? Math.round((rl/rs)*100) : 0; document.getElementById('req_total').value = format(rs);
        let te = 0, td = 0, tv = 0;
        for (let i = 1; i <= 3; i++) {
            const f = clean(document.getElementById(`p${i}_funds`).value), l = parseFloat(document.getElementById(`p${i}_ltv`).value) || 0;
            if (f > 0) { const pt = Math.round(f / (1 - (l/100))); const loan = pt - f; document.getElementById(`p${i}_loan`).value = format(loan); document.getElementById(`p${i}_total`).value = format(pt); te += f; td += loan; tv += pt; } else { document.getElementById(`p${i}_loan`).value = ""; document.getElementById(`p${i}_total`).value = ""; }
        }
        document.getElementById('tot_equity').value = format(te); document.getElementById('tot_debt').value = format(Math.round(td)); document.getElementById('tot_value').value = format(Math.round(tv));
        const boot = Math.round(Math.max(0, rs - tv) + Math.max(0, rq - te)); document.getElementById('boot_val').textContent = format(boot);
    }
</script>
</body>

</html>
